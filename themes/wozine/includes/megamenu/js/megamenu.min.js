!function(a){var b=!1;a.megamenu=function(c,d){var e=a(c),g=(a.extend({animation:300},d),!1);methods={loadImages:function(b){a("img",a(b)).each(function(){""!=a(this).attr("data-src")&&(a(this).attr("src",a(this).attr("data-src")),a(this).attr("data-src",""))})},init:function(){0==dt_megamenu.ajax_enabled&&e.find(".sub-grid-content").each(function(){a(this).appendTo(a(this).parent().parent())}),e.find(".menu-mobile").click(function(){e.find(".menu").toggleClass("open")}),a(window).resize(function(){e.find(".menu").removeClass("open")}),e.find(".grid-title").each(function(){a(this).hover(function(){methods.displayGrid(a(this))})}),e.find(".level0").hover(function(){if(a(this).addClass("hover"),!g&&0==a(this).find(".sub-content-active").length){var b=a(this).parent().find(".sub-content-active");if(0==b.length){var c=a(this).find(".sub-content");c.length>0&&(c.addClass("sub-content-active"),0==c.find(".sub-grid-tabs .hover").length&&methods.displayGrid(c.find(".sub-grid-tabs .grid-title:eq(0)")))}else{var d=a(this).find(".sub-content");d.addClass("sub-content-active"),b.removeClass("sub-content-active"),0==d.find(".sub-grid-tabs .hover").length&&methods.displayGrid(d.find(".sub-grid-tabs .grid-title:eq(0)"))}}},function(){a(this).removeClass("hover"),setTimeout(a.proxy(function(){0==a(this).find(".menu>.hover").length&&(sub=a(this).find(".sub-content"),sub.removeClass("sub-content-active"))},e),300)})},displayGrid:function(b){var c="#"+a(b).attr("data-target");if(a(b).parent().parent().find(".sub-grid-content").removeClass("open"),0==a(c).length){if(0!=dt_megamenu.ajax_enabled){var d=a('<div class="sub-grid-content open" id="'+a(b).attr("data-target")+'"><div class="content-inner row"><div class="loading"><!-- --></div></div></div>');a(b).parent().parent().append(d),methods.getGridContent(c,a(b).attr("data-object"),a(b).attr("data-id"),a(b).attr("data-post"))}}else methods.loadImages(c),a(c).addClass("open");a(b).parent().find(".grid-title").removeClass("hover"),a(b).addClass("hover")},getGridContent:function(c,d,e,f){a.ajax({type:"POST",cache:!1,url:dt_megamenu.ajax_url,data:{action:"dt_megaMenu_getGridContent",data:new Array(d,e,f)},error:function(a,c,d){b&&console.log("Error: "+c+" | "+d)},success:function(b,d,e){a(c).find(".content-inner").html(b)}})}},methods.init()},a.fn.megamenu=function(b){return new a.megamenu(this,b)}}(jQuery),jQuery(document).ready(function(a){a(".megamenu").megamenu()});